<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        caption="msg://monitoringScreen.caption"
        messagesPack="com.company.medicalrecord.web.screens.monitoring"
        xmlns:chart="http://schemas.haulmont.com/charts/charts.xsd">
    <data>
        <collection id="weightMonitoringDc" class="com.company.medicalrecord.entity.monitoring.WeightMonitoring">
            <view extends="_local"/>
            <loader id="weightMonitoringDl">
                <query>
                    <![CDATA[select e from medicalrecord_WeightMonitoring e order by e.localDateTime]]>
                </query>
            </loader>
        </collection>
        <collection id="pulseMonitoringsDc" class="com.company.medicalrecord.entity.monitoring.PulseMonitoring">
            <view extends="_local"/>
            <loader id="pulseMonitoringsDl">
                <query>
                    <![CDATA[select e from medicalrecord_PulseMonitoring e]]>
                </query>
            </loader>
        </collection>
        <collection id="temperatureMonitoringsDc"
                    class="com.company.medicalrecord.entity.monitoring.TemperatureMonitoring">
            <view extends="_local"/>
            <loader id="temperatureMonitoringsDl">
                <query>
                    <![CDATA[select e from medicalrecord_TemperatureMonitoring e]]>
                </query>
            </loader>
        </collection>
    </data>
    <layout>
        <vbox id="vBoxWeightMonitoring" box.expandRatio="0.7" height="100%" spacing="true"
              width="100%">
            <label id="labelWeight" value="msg://labelWeight.value" stylename="bold h3"/>
            <hbox id="hBoxWeightPeriod" spacing="true">
                <lookupField id="lookupFieldDuration" nullOptionVisible="false"/>
                <dateField id="dateField"/>
                <button id="buttonShow" caption="Show"/>
            </hbox>
            <chart:serialChart id="serialChartWeight"
                               categoryField="localDateTime"
                               dataDateFormat="YYYY-MM-DD"
                               dataContainer="weightMonitoringDc"
                               width="100%" height="80%" box.expandRatio="1.0">
                <chart:categoryAxis parseDates="true"/>
                <chart:graphs>
                <chart:graph valueField="value"
                             lineColor="RED"
                             bullet="TRIANGLE_DOWN"/>
                </chart:graphs>
                <chart:chartCursor cursorAlpha="1"
                                   cursorColor="#FF0000"
                                   cursorPosition="MOUSE"
                                   limitToGraph="g1"
                                   pan="true"
                />
            </chart:serialChart>
        </vbox>
        <hbox id="hBoxTemperatureAndPulse" width="100%">
            <vbox id="vBoxTest" spacing="true">
                <button/>
                <button/>
                <button/>
                <button/>
                <button/>
                <chart:serialChart id="serialChartTemp"
                                   box.expandRatio="1.0"
                                   categoryField="localDateTime"
                                   dataDateFormat="YYYY-MM-DD"
                                   dataContainer="temperatureMonitoringsDc"
                                   width="100%" height="auto">
                    <chart:categoryAxis parseDates="true"/>
                    <chart:graphs>
                        <chart:graph valueField="value"
                                     lineColor="RED"
                                     bullet="TRIANGLE_DOWN"/>
                    </chart:graphs>
                    <chart:chartCursor cursorAlpha="1"
                                       cursorColor="#FF0000"
                                       cursorPosition="MOUSE"
                                       limitToGraph="g1"
                                       pan="true"
                    />
                </chart:serialChart>
            </vbox>
            <vbox spacing="true">
                <button caption="TEST"/>
                <button/>
            </vbox>
        </hbox>
    </layout>
</window>
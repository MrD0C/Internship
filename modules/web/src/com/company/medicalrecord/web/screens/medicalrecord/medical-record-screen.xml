<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        caption="msg://medicalRecordScreen.caption"
        messagesPack="com.company.medicalrecord.web.screens.medicalrecord">
    <data>
        <collection id="noteRecordsDc" class="com.company.medicalrecord.entity.record.NoteRecord">
            <view extends="_local"/>
            <loader id="noteRecordsDl">
                <query>
                    <![CDATA[select e from medicalrecord_NoteRecord e]]>
                </query>
            </loader>
        </collection>
        <collection id="examinationRecordsDc" class="com.company.medicalrecord.entity.record.ExaminationRecord">
            <view extends="_local">
                <property name="diagnosis" view="_minimal"/>
                <property name="creationInfo" view="_minimal"/>
            </view>
            <loader id="examinationRecordsDl">
                <query>
                    <![CDATA[select e from medicalrecord_ExaminationRecord e]]>
                </query>
            </loader>
        </collection>
        <collection id="analysisRecordsDc" class="com.company.medicalrecord.entity.record.AnalysisRecord">
            <view extends="_local">
                <property name="creationInfo" view="_minimal"/>
            </view>
            <loader id="analysisRecordsDl">
                <query>
                    <![CDATA[select e from medicalrecord_AnalysisRecord e]]>
                </query>
            </loader>
        </collection>
        <collection id="consultationRecordsDc" class="com.company.medicalrecord.entity.record.ConsultationRecord">
            <view extends="_local">
                <property name="diagnosis" view="_minimal"/>
                <property name="creationInfo" view="_minimal"/>
            </view>
            <loader id="consultationRecordsDl">
                <query>
                    <![CDATA[select e from medicalrecord_ConsultationRecord e]]>
                </query>
            </loader>
        </collection>
    </data>
    <layout expand="tabSheetRecord" spacing="true">
        <label id="labelMedicalRecord" value="Medical Record" stylename="bold h3"/>
        <tabSheet id="tabSheetRecord">
            <tab id="tabConsultation" caption="Consultation" spacing="true">
                <dataGrid id="consultationRecordsTable" height="auto" width="100%"
                          dataContainer="consultationRecordsDc" reorderingAllowed="false" settingsEnabled="false"
                          columnsCollapsingAllowed="false">
                    <actions>
                        <action id="create" type="create">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="edit" type="edit">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="remove" type="remove"/>
                    </actions>
                    <buttonsPanel alwaysVisible="true" margin="true,false,false,false">
                        <button id="consultationRecordsTableCreateBtn" action="consultationRecordsTable.create" stylename="friendly"/>
                        <button id="consultationRecordsTableEditBtn" action="consultationRecordsTable.edit"/>
                        <button id="consultationRecordsTableRemoveBtn" action="consultationRecordsTable.remove" stylename="danger"/>
                    </buttonsPanel>
                    <columns>
                        <column id="diagnosis.icd10Name" property="diagnosis.icd10Name"/>
                        <column id="creationInfo.date" property="creationInfo.date"/>
                    </columns>
                </dataGrid>
            </tab>
            <tab id="tabExamination" caption="Examinations" spacing="true">
                <dataGrid id="examinationRecordsTable" height="auto" width="100%" dataContainer="examinationRecordsDc"
                          reorderingAllowed="false" settingsEnabled="false" columnsCollapsingAllowed="false">
                    <actions>
                        <action id="create" type="create">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="edit" type="edit">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="remove" type="remove"/>
                        <action id="view" type="view"/>
                    </actions>
                    <buttonsPanel alwaysVisible="true" margin="true,false,false,false">
                        <button id="examinationRecordsTableCreateBtn" action="examinationRecordsTable.create"/>
                        <button id="examinationRecordsTableEditBtn" action="examinationRecordsTable.edit"/>
                        <button id="examinationRecordsTableRemoveBtn" action="examinationRecordsTable.remove" stylename="danger"/>
                    </buttonsPanel>
                    <columns>
                        <column id="examinationType" property="examinationType"/>
                        <column id="name" property="name"/>
                        <column id="diagnosis.icd10Name" property="diagnosis.icd10Name"/>
                        <column id="creationInfo.date" property="creationInfo.date"/>
                    </columns>
                </dataGrid>
            </tab>
            <tab id="tabNotes" caption="Notes" spacing="true">
                <dataGrid id="noteRecordsTable" height="auto" width="100%" dataContainer="noteRecordsDc"
                          reorderingAllowed="false" settingsEnabled="false" columnsCollapsingAllowed="false">
                    <actions>
                        <action id="create" type="create">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="edit" type="edit">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="remove" type="remove"/>
                        <action id="view" type="view">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                    </actions>
                    <buttonsPanel alwaysVisible="true" margin="true,false,false,false">
                        <button id="noteRecordsTableCreateBtn" action="noteRecordsTable.create"/>
                        <button id="noteRecordsTableEditBtn" action="noteRecordsTable.edit"/>
                        <button id="noteRecordsTableRemoveBtn" action="noteRecordsTable.remove" stylename="danger"/>
                    </buttonsPanel>
                    <columns>
                        <column id="name" property="name"/>
                        <column id="description" property="description"/>
                        <column id="date" property="date"/>
                    </columns>
                </dataGrid>
            </tab>
            <tab id="tabAnalysis" caption="Analysis" spacing="true">
                <dataGrid id="analysisRecordsTable" height="auto" width="100%" dataContainer="analysisRecordsDc"
                          reorderingAllowed="false" settingsEnabled="false" columnsCollapsingAllowed="false">
                    <actions>
                        <action id="create" type="create">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="edit" type="edit">
                            <properties>
                                <property name="openMode" value="DIALOG"/>
                            </properties>
                        </action>
                        <action id="remove" type="remove"/>
                        <action id="view" type="view"/>
                    </actions>
                    <buttonsPanel alwaysVisible="true" margin="true,false,false,false">
                        <button id="analysisRecordsTableCreateBtn" action="analysisRecordsTable.create"/>
                        <button id="analysisRecordsTableEditBtn" action="analysisRecordsTable.edit"/>
                        <button id="analysisRecordsTableRemoveBtn" action="analysisRecordsTable.remove" stylename="danger"/>
                    </buttonsPanel>
                    <columns>
                        <column id="name" property="conclusion"/>
                        <column id="conclusion" property="conclusion"/>
                        <column id="creationInfo.date" property="creationInfo.date"/>
                    </columns>
                </dataGrid>
            </tab>
        </tabSheet>
    </layout>
</window>